<app-back-button></app-back-button>

<div class="page">
  <div class="row mb-4">
    <div class="col-12">
      <div class="d-flex align-items-center">
        <h2 class="page-title mb-0">Istanze Attive</h2>
      </div>
    </div>
  </div>

  @if(isFetching()) {
  <div class="mt-3">
    <p>Caricamento istanze in corso...</p>
  </div>
  } @else if(activeNetworks() && activeNetworks().length > 0) {
  <div class="mt-3">
    <p-table
      [value]="activeNetworks()"
      styleClass="p-datatable-striped custom-table"
      [tableStyle]="{ 'width': '100%' }"
      responsiveLayout="scroll"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="network">Network <p-sortIcon field="network"></p-sortIcon></th>
          <th class="text-center">Azione</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-element>
        <tr>
          <td>{{element.network}}</td>
          <td>
            <button
              pButton
              icon="pi pi-power-off"
              class="p-button-rounded p-button-danger"
              (click)="quitInstance(element.network)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  }@else {
  <div class="mt-3">
    <p>Nessuna istanza attiva</p>
  </div>
  }
</div>